# Next.js란?

React의 SSR(server side rendering)을 쉽게 구현할 수 있게 도와주는 프레임워크 입니다.

CSR과의 [**차이점**](https://www.notion.so/SSR-CSR-af01db759b7a4a5aa5ddfff77d18471b?pvs=21)이 궁금하시면 해당 링크를 클릭해보시면 됩니다.

- 궁금점 : React와 SSR 구현이 불가능한가?
  아닙니다. 구현이 가능은 하지만 구현하기 위한 다양한 설정을 해야하고 설정 및 SSR에 맞게 개발을 해야하는데
  결론적으로는 너무 불편해서 Next.js를 사용하는게 좋습니다.

그렇다면 Next.js를 왜 쓰는지 알아보겠습니다.

# 1. Next.js 프로젝스 생성 및 폴더 구조 파악

먼저 프로젝트 생성 명령어를 알아보겠습니다.

```bash
# npx
npx create-next-app@latest
# yarn
yarn create next-app ./
# pnpm
pnpm create next-app ./

```

위의 명령어로 생성을 하시면 됩니다.

# 2. Next.js 13버전의 폴더구조

폴더 구조를 살펴보겠습니다.

![Untitled](./readme-image/Untitled%201.png)

create-app으로 생성된 next는 기본적으로 next 13 버전으로 생성이 됩니다.

next 13버전은 이전 버전과 몇가지 차이점이 있습니다. 알아보겠습니다.

# 3. pages는 어디로?? a**pp 폴더를 살펴보자**

Next.js에서는 기본적으로 파일로 라우터를 하게 됩니다.

13 이전버전에서는 `pages` 폴더를 통해서 파일 라우터를 사용했지만 13버전에서는 app이라는 폴더를 사용하게 됩니다.

아직은 pages 폴더도 지원이 되고 있지만 app 폴더만 사용하는 것으로 채택될 수 있습니다.

![Untitled](./readme-image/Untitled%202.png)

app폴더는 아래와 같은 기능을 제공합니다.

- **[Layouts](https://nextjs.org/blog/next-13#layouts)** : 경로 간 UI를 쉽게 공유가 가능합니다.
- **[Streaming](https://nextjs.org/blog/next-13#streaming)** : 로딩 상태를 표시하고 렌더링되는 UI를 점진적으로 스트리밍 되는 기능입니다.

![Untitled](./readme-image/Untitled%203.png)

- **[Server Components](https://nextjs.org/blog/next-13#server-components)** : React에서 도입된 [**기능**](https://tech.kakaopay.com/post/react-server-components/)으로 data-fetching을 간단하게 할 수 있는 기능입니다.

![Untitled](./readme-image/Untitled%204.png)

- **[Support for Data Fetching :](https://nextjs.org/blog/next-13#data-fetching)** 비동기로 server components와 확장된 fetch api를 통해 컴포넌트 레벨에서 데이터를 가져올 수 있습니다.

## 3.1 레이아웃

`app/` 디렉토리는 레이아웃 및 라우터 기능을 제공합니다.

Before

```jsx
// pages/index.js
// This file maps to the index route (/)
export default function Page() {
  return <h1>Hello, Next.js!</h1>;
}
```

After(next.js 13)

```jsx
// app/page.js
// This file maps to the index route (/)
export default function Page() {
  return <h1>Hello, Next.js!</h1>;
}
```

간단한 작업을 통해 레이아웃 기능과 라우터 기능을 알아보겠습니다.

`/app/pages.tsx` 에 있는 내용을 삭제후 아래와 같이 만들고

```jsx
export default function Home() {
  return <main>main page /</main>;
}
```

`/app/layout.tsx`를 아래와 같이 수정해보겠습니다.

```jsx
import "./globals.css";
import type { Metadata } from "next";
import { Inter } from "next/font/google";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode,
}) {
  return (
    <html lang="en">
      <head>
        <title>Next.js 13 version</title>
      </head>
      <body className={inter.className}>
        <nav>Next 13</nav>
        {children}
      </body>
    </html>
  );
}
```

그러면 아래와 같은 화면이 나오게 됩니다.

![Untitled](./readme-image/Untitled%205.png)

그리고 아래와 같이 about 폴더와 page.tsx 파일을 생성 후

![Untitled](./readme-image/Untitled%206.png)

적당한 내용을 작성 후 `[/about](http://localhost:3000/about)` 로 이동하면 아래와 같은 화면이 나옵니다.

![Untitled](./readme-image/Untitled%207.png)

#
